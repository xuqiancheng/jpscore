<JuPedSim xmlns:ns0="http://xsd.jupedsim.org/jps_ini_core.xsd" project="JPS-Project" version="0.8" ns0:noNamespaceSchemaLocation="ini.xsd">
  <seed>1000.0</seed>
  
  <num_threads>8</num_threads>
  <max_sim_time unit="sec">500</max_sim_time>
  <logfile>log.txt</logfile>
  <geometry>clogging_geo_nod.xml</geometry>
  
  <trajectories embed_mesh="false" format="xml-plain" fps="20">
    <file location="clogging_traj.xml" />
  </trajectories>
  
  <show_statistics>true</show_statistics>
  
  <agents operational_model_id="7">
    <agents_distribution>
		<group agent_parameter_id="1" goal_id="-1" group_id="0" number="0" room_id="0" router_id="1" subroom_id="0" />
		<group agent_parameter_id="1" goal_id="-1" group_id="1" number="0" room_id="0" router_id="1" subroom_id="0" />
		<group agent_parameter_id="1" goal_id="-1" group_id="2" number="0" room_id="0" router_id="1" subroom_id="0" />
		<group agent_parameter_id="1" goal_id="-1" group_id="3" number="0" room_id="0" router_id="1" subroom_id="0" />			
	</agents_distribution>
	<agents_sources> <!-- Set entrance flow -->
		<source id="1" frequency="1" agents_max="20" group_id="0" caption="source 1" greedy="false"  />
		<source id="2" frequency="1" agents_max="20" group_id="1" caption="source 2" greedy="false"  />
		<source id="3" frequency="1" agents_max="20" group_id="2" caption="source 3" greedy="false"  />
		<source id="4" frequency="1" agents_max="20" group_id="3" caption="source 4" greedy="false"  />
		<source id="5" frequency="1" agents_max="20" group_id="0" caption="source 5" greedy="false"  />
		<source id="6" frequency="1" agents_max="20" group_id="1" caption="source 6" greedy="false"  />
		<source id="7" frequency="1" agents_max="20" group_id="2" caption="source 7" greedy="false"  />
		<source id="8" frequency="1" agents_max="20" group_id="3" caption="source 8" greedy="false"  />
	</agents_sources>
  </agents>
 
  <operational_models>
	<model description="simplest" operational_model_id="7">
      <model_parameters>
        <solver>euler</solver>
        <stepsize>0.05</stepsize> <!-- Set time steps -->
        <exit_crossing_strategy>3</exit_crossing_strategy>
        <linkedcells cell_size="300" enabled="true" />
        <force_ped D="0.1" a="3" />
        <force_wall D="0.05" a="6" />
		<time_parameters Td="0.3" Ts="0.3" />
		<update_method parallel="1"/> <!-- Update method is parallel when parallel=1, while unparallel when parallel=0 -->
		<waiting_time Tw="1"/> <!-- Deleting pedestrian Tw seconds after the clogging -->
		<clogging_area size="1" /> <!-- Only deleting pedestrian when the distance between clogging to exit is smaller than the size-->
		<model_submodel direction="1" speed="1"/> <!-- When direction=1 means using direction part, when speed=1 means using speed part -->
		<GCVM using="1"/> <!-- When using=1 menas we using GCVM in the simulation -->
      </model_parameters>
	  <agent_parameters agent_parameter_id="1">
        <v0 mu="1.34" sigma="0.26" />
        <bmax mu="0.20" sigma="0.00000" /> 
        <bmin mu="0.20" sigma="0.00000" />
        <amin mu="0.20" sigma="0.00000" />
        <atau mu="0.00" sigma="0.00000" />
		<tau mu="0.5" sigma="0.000" />
		<shape circle="1" /> 
      </agent_parameters>
    </model>
  </operational_models>

  <route_choice_models>
    <router description="local_shortest" router_id="1">
      <parameters>
        
      </parameters>
    </router>
  </route_choice_models>

</JuPedSim>